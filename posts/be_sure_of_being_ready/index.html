<!DOCTYPE html>
<html lang="en-uk">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.74.3" />

    
    
    

<title>Kubernetes - Be sure of being ready for real zero downtime deployment â€¢ Machine learning in real life</title>
<meta name="google-site-verification" content="TCP3Xybh5xzOfqotpAWEcZvWXDkTewIEh8oUbcnpT3U" />
<meta name="description" content="" />
<meta itemprop="description" content="Readiness is an important concept in Kubernetes that avoids you getting a temporary error when deploying. It&#39;s a key to get real zero downtime deployment." />
<meta property="og:description" content="Readiness is an important concept in Kubernetes that avoids you getting a temporary error when deploying. It&#39;s a key to get real zero downtime deployment." />
<meta name="twitter:description" content="Readiness is an important concept in Kubernetes that avoids you getting a temporary error when deploying. It&#39;s a key to get real zero downtime deployment." />
<meta name="keywords" content="nastasia saby, nastasia, saby, engineer, data, deep learning, shallow learning, learning, machine, tests, unit, people, analytics, book, career, concepts, data science, machine learning, pomodoro, issue, failure, data drift, model drift, drift, mlops, dataops, devops, sexism, unit tests, improve, mistakes">
<meta name="application-name" content="Kubernetes - Be sure of being ready for real zero downtime deployment | Machine learning in real life" />
<meta property="og:site_name" content="" />
<meta itemprop="name" content="Kubernetes - Be sure of being ready for real zero downtime deployment | Machine learning in real life" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://mlinreallife.github.io/Logo3.png"/>

<meta name="twitter:title" content="Kubernetes - Be sure of being ready for real zero downtime deployment"/>
<meta name="twitter:description" content="Readiness is an important concept in Kubernetes that avoids you getting a temporary error when deploying. It&#39;s a key to get real zero downtime deployment."/>
<meta name="twitter:site" content="@saby_nastasia"/>

<meta property="og:title" content="Kubernetes - Be sure of being ready for real zero downtime deployment" />
<meta property="og:description" content="Readiness is an important concept in Kubernetes that avoids you getting a temporary error when deploying. It&#39;s a key to get real zero downtime deployment." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mlinreallife.github.io/posts/be_sure_of_being_ready/" />
<meta property="og:image" content="https://mlinreallife.github.io/Logo3.png"/>
<meta property="article:published_time" content="2021-05-05T06:11:10+02:00" />
<meta property="article:modified_time" content="2021-03-10T09:41:17+01:00" />

<base href="https://mlinreallife.github.io/posts/be_sure_of_being_ready/">
<link rel="canonical" href="https://mlinreallife.github.io/posts/be_sure_of_being_ready/" itemprop="url" />
<meta name="url" content="https://mlinreallife.github.io/posts/be_sure_of_being_ready/" />
<meta name="twitter:url" content="https://mlinreallife.github.io/posts/be_sure_of_being_ready/" />
<meta property="og:url" content="https://mlinreallife.github.io/posts/be_sure_of_being_ready/" />
<meta property="og:locale" content="en">
<meta name="language" content="English">


<meta itemprop="image" content="https://mlinreallife.github.io" />
<meta property="og:image" content="https://mlinreallife.github.io" />

<meta property="og:updated_time" content=2021-03-10T09:41:17&#43;0100 />
Sitemap & RSS Feed Tags
<link rel="sitemap" type="application/xml" title="Sitemap" href="https://mlinreallife.github.iositemap.xml" />



    






<link rel="stylesheet" href="https://mlinreallife.github.io/scss/hyde-hyde.3081c4981fb69a2783dd36ecfdd0e6ba7a158d4cbfdd290ebce8f78ba0469fc6.css" integrity="sha256-MIHEmB&#43;2mieD3Tbs/dDmunoVjUy/3SkOvOj3i6BGn8Y=">


<link rel="stylesheet" href="https://mlinreallife.github.io/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="144x144" href="https://mlinreallife.github.io/favicon.ico">
    <link rel="shortcut icon" type="image/png" href="https://mlinreallife.github.io/favicon.ico">
    
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <h1 class="site__title">
        <a href="https://mlinreallife.github.io">Machine learning in real life</a>
      </h1>
      
      
        <div class="author-image">
          <img src="https://www.gravatar.com/avatar/f1e09bf0b41e5559ff4623401378a1f8?s=240&d=mp" class="img--circle img--headshot element--center" alt="gravatar">
        </div>
      
      <h3 class="site__description">
         Nastasia Saby 
      </h3>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Machine learning in real life</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="https://mlinreallife.github.io/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://mlinreallife.github.io/newsletter/">
						<span>Newsletter</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="https://mlinreallife.github.io/nastasia_saby/">
						<span>About Me Nastasia Saby</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/@saby_nastasia" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    


  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Kubernetes - Be sure of being ready for real zero downtime deployment</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> May 05, 2021
    
    
    
    
    
    <br/>
    <i class="fas fa-clock"></i> 1 min read
</div>


  </header>
  
  
  <div class="post">
    <p>TLDR;</p>
<p>Readiness is an important concept in Kubernetes that avoids you getting a temporary error when deploying.
It&rsquo;s a key to get real zero downtime deployment. Don&rsquo;t forget it!</p>
<h2 id="the-problem">The problem</h2>
<p>Let&rsquo;s suppose that you deploy an application.
When doing it,  you notice that your users receive a temporary error when deploying the application.</p>
<p>Oops.</p>
<h2 id="the-explanation">The explanation</h2>
<p>Let&rsquo;s suppose that you have one replica. The process is the following when deploying:</p>
<ul>
<li>In the beginning, you have the old pod</li>
<li>A new pod is created</li>
<li>When the new pod is ready, the old one is removed</li>
</ul>
<p>The problem is this concept of readiness. If you do nothing, you get the default configuration and there&rsquo;s almost no doubt that it&rsquo;s not what you want. The default configuration from the <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/">Kubernetes documentation</a> is the following one:</p>
<blockquote>
<p>If a Container does not provide a readiness probe, the default state is Success</p>
</blockquote>
<h2 id="the-solution">The solution</h2>
<p>You can configure a readiness probe by adding something like that in your yaml file:</p>
<pre><code>readinessProbe:
  httpGet:
    path: /status
    port: 8000
  initialDelaySeconds: 10
  periodSeconds: 5
</code></pre><p>This way, we have a custom readiness probe. We check that a specific path is available before declaring the pod is ready to receive input traffic.</p>
<p>I let you check the <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/">documentation</a> for more information.</p>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="https://mlinreallife.github.io/posts/press_review_12/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Issue 12: Bayesian AB Tests</span>
    </a>
    
    
    <a href="https://mlinreallife.github.io/posts/press_review_13/" class="navigation-next">
      <span class="navigation-tittle">Issue 13: Kubernetes and DevOps concepts</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    


</article>


        </div>
        
    

<script defer src="https://use.fontawesome.com/releases/v5.11.2/js/all.js" integrity="sha384-b3ua1l97aVGAPEIe48b4TC60WUQbQaGi2jqAWM90y0OZXZeyaTCWtBTKtjW2GXG1" crossorigin="anonymous"></script>




    



    </body>
</html>
